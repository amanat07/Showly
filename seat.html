<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book Your Seats - Showly</title>
    <style>
        /* General Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #111;
            color: #fff;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        /* Navbar */
        .navbar {
            background: rgba(0, 0, 0, 0.9);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1200px;
            margin: auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
        }

        .logo {
            color: #e11d48;
            font-weight: bold;
            font-size: 1.5rem;
        }

        .nav-links {
            display: flex;
            align-items: center;
        }

        .nav-links a {
            margin-left: 20px;
            color: #ccc;
            transition: 0.3s;
        }

        .nav-links a:hover {
            color: #e11d48;
        }

        .profile-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #e11d48;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            font-size: 1.2rem;
            color: white;
            margin-left: 20px;
        }

        .main-content {
            flex: 1;
            padding: 80px 20px 20px;
            max-width: 1200px;
            margin: auto;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Movie Info Section */
        .movie-info {
            text-align: center;
            margin-bottom: 2rem;
            width: 100%;
        }

        .movie-info h2 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .movie-info p {
            font-size: 1rem;
            color: #aaa;
        }
        
        /* Show Timing Section */
        .show-timing-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 600px;
            margin-bottom: 2rem;
        }

        .show-timing-container h3 {
            margin-bottom: 1rem;
            font-size: 1.5rem;
            color: #fff;
        }
        
        .show-timing-options {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .timing-btn {
            background-color: #333;
            color: #fff;
            padding: 10px 20px;
            border: 1px solid #555;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.2s, border-color 0.2s;
        }

        .timing-btn:hover {
            background-color: #444;
        }

        .timing-btn.selected {
            background-color: #e11d48;
            border-color: #e11d48;
        }

        /* Cinema Screen */
        .screen-container {
            text-align: center;
            margin-bottom: 2rem;
            width: 100%;
        }

        .screen {
            background-color: #555;
            height: 50px;
            width: 80%;
            max-width: 600px;
            margin: 0 auto 10px;
            border-bottom-left-radius: 50px;
            border-bottom-right-radius: 50px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .screen p {
            color: #fff;
            padding-top: 5px;
            font-size: 1.2rem;
            font-weight: bold;
        }

        /* Seating Layout */
        .seating-layout {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .seats-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            max-width: 100%;
            background: #222;
            padding: 1rem;
            border-radius: 10px;
        }

        .section-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: #ddd;
        }
        
        .seats-section.recliner {
            border: 2px solid #f1c40f;
        }
        
        .seats-section.prime {
            border: 2px solid #b38806;
        }
        
        .seats-section.classic {
            border: 2px solid #aaa;
        }
        
        .row {
            display: flex;
            justify-content: center;
            flex-wrap: nowrap;
            gap: 5px;
            margin-bottom: 5px;
            width: 100%;
        }

        .seat-group {
            display: flex;
            gap: 5px;
            justify-content: center;
        }
        
        .row .partition {
            width: 40px;
            margin: 0 10px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #555;
            font-size: 0.8rem;
            flex-shrink: 0;
        }
        
        .seat {
            width: 30px;
            height: 30px;
            background-color: #444;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s ease;
            flex-shrink: 0;
        }

        .seat.booked {
            background-color: #e11d48;
            cursor: not-allowed;
        }
        
        .seat.selected {
            background-color: #1d7d3d;
        }
        
        .seating-disabled {
            pointer-events: none;
            opacity: 0.5;
        }

        /* Seat Legend */
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .legend-box {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
        
        .legend-box.available {
            background-color: #444;
        }
        
        .legend-box.selected {
            background-color: #1d7d3d;
        }
        
        .legend-box.booked {
            background-color: #e11d48;
        }

        /* Booking Summary */
        .booking-summary {
            background: #222;
            padding: 2rem;
            border-radius: 10px;
            width: 100%;
            max-width: 400px;
            text-align: left;
            margin-top: 2rem;
        }

        .booking-summary h3 {
            border-bottom: 2px solid #e11d48;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }

        .summary-details p {
            margin-bottom: 0.5rem;
        }

        .summary-details p strong {
            color: white;
        }
        
        .proceed-btn {
            width: 100%;
            padding: 15px;
            background: #e11d48;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 1rem;
        }

        .proceed-btn:hover {
            background: #be123c;
        }
        
        .proceed-btn:disabled {
            background: #555;
            cursor: not-allowed;
        }

        /* Footer */
        .footer {
            background: #000;
            color: #888;
            padding: 40px 20px;
            margin-top: 2rem;
        }

        .footer-container {
            max-width: 1200px;
            margin: auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            text-align: left;
        }

        .footer-col h4 {
            color: #fff;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            border-bottom: 2px solid #e11d48;
            display: inline-block;
            padding-bottom: 5px;
        }

        .footer-col ul {
            list-style: none;
        }

        .footer-col ul li {
            margin-bottom: 10px;
        }

        .footer-col ul li a {
            color: #ccc;
            transition: color 0.3s;
        }

        .footer-col ul li a:hover {
            color: #e11d48;
        }

        .footer-col p, .footer-col address {
            font-size: 0.9rem;
            color: #ccc;
        }

        .footer-social-links a {
            color: #ccc;
            font-size: 1.5rem;
            margin-right: 15px;
            transition: color 0.3s;
        }

        .footer-social-links a:hover {
            color: #e11d48;
        }

        .footer-bottom {
            text-align: center;
            margin-top: 2rem;
            padding-top: 20px;
            border-top: 1px solid #222;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .seat {
                width: 25px;
                height: 25px;
            }
            .booking-summary {
                padding: 1rem;
            }
            .row .partition {
                width: 20px;
            }
            .seating-layout {
                align-items: center; 
            }
            .seats-section {
                padding: 0.5rem;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar">
        <div class="nav-container">
            <h1 class="logo">Showly</h1>
            <div class="nav-links">
                <a href="./main.html">Dashboard</a>
                <a href="tickets.html">My Tickets</a>
                <a href="./contact.html">Contact</a>
                <div class="profile-avatar">S</div>
            </div>
        </div>
    </nav>

    <div class="main-content">
        <div class="movie-info">
            <h2>Son of Sardaar 2</h2>
            <p>Elante Chandigarh, Screen 4 - Thu, 24 Oct 2025</p>
        </div>
        <div class="show-timing-container">
            <h3>Select Show Timing</h3>
            <div class="show-timing-options">
                <button class="timing-btn" data-time="10:00 AM">10:00 AM</button>
                <button class="timing-btn" data-time="1:30 PM">1:30 PM</button>
                <button class="timing-btn" data-time="5:00 PM">5:00 PM</button>
                <button class="timing-btn" data-time="9:00 PM">9:00 PM</button>
            </div>
        </div>

        <div class="screen-container">
            <div class="screen">
                <p>SCREEN</p>
            </div>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-box available"></div>
                <p>Available</p>
            </div>
            <div class="legend-item">
                <div class="legend-box selected"></div>
                <p>Selected</p>
            </div>
            <div class="legend-item">
                <div class="legend-box booked"></div>
                <p>Booked</p>
            </div>
        </div>

        <div class="seating-layout seating-disabled">
            <div class="seats-section classic">
                <h4 class="section-title">Classic (₹190)</h4>
                
                <div class="row">
                    <div class="seat-group">
                        <div class="seat" data-price="190">E1</div>
                        <div class="seat" data-price="190">E2</div>
                        <div class="seat" data-price="190">E3</div>
                        <div class="seat" data-price="190">E4</div>
                        <div class="seat" data-price="190">E5</div>
                        <div class="seat" data-price="190">E6</div>
                        <div class="seat" data-price="190">E7</div>
                        <div class="seat" data-price="190">E8</div>
                        <div class="seat" data-price="190">E9</div>
                        <div class="seat" data-price="190">E10</div>
                    </div>
                    <div class="partition"></div>
                    <div class="seat-group">
                        <div class="seat" data-price="190">E11</div>
                        <div class="seat" data-price="190">E12</div>
                        <div class="seat" data-price="190">E13</div>
                        <div class="seat" data-price="190">E14</div>
                        <div class="seat" data-price="190">E15</div>
                        <div class="seat" data-price="190">E16</div>
                        <div class="seat" data-price="190">E17</div>
                        <div class="seat" data-price="190">E18</div>
                        <div class="seat" data-price="190">E19</div>
                        <div class="seat" data-price="190">E20</div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="seat-group">
                        <div class="seat" data-price="190">F1</div>
                        <div class="seat" data-price="190">F2</div>
                        <div class="seat booked" data-price="190">F3</div>
                        <div class="seat" data-price="190">F4</div>
                        <div class="seat" data-price="190">F5</div>
                        <div class="seat" data-price="190">F6</div>
                        <div class="seat" data-price="190">F7</div>
                        <div class="seat" data-price="190">F8</div>
                        <div class="seat" data-price="190">F9</div>
                        <div class="seat" data-price="190">F10</div>
                    </div>
                    <div class="partition"></div>
                    <div class="seat-group">
                        <div class="seat" data-price="190">F11</div>
                        <div class="seat" data-price="190">F12</div>
                        <div class="seat" data-price="190">F13</div>
                        <div class="seat" data-price="190">F14</div>
                        <div class="seat booked" data-price="190">F15</div>
                        <div class="seat" data-price="190">F16</div>
                        <div class="seat" data-price="190">F17</div>
                        <div class="seat" data-price="190">F18</div>
                        <div class="seat" data-price="190">F19</div>
                        <div class="seat" data-price="190">F20</div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="seat-group">
                        <div class="seat" data-price="190">G1</div>
                        <div class="seat" data-price="190">G2</div>
                        <div class="seat" data-price="190">G3</div>
                        <div class="seat" data-price="190">G4</div>
                        <div class="seat" data-price="190">G5</div>
                        <div class="seat" data-price="190">G6</div>
                        <div class="seat" data-price="190">G7</div>
                        <div class="seat" data-price="190">G8</div>
                        <div class="seat" data-price="190">G9</div>
                        <div class="seat" data-price="190">G10</div>
                    </div>
                    <div class="partition"></div>
                    <div class="seat-group">
                        <div class="seat" data-price="190">G11</div>
                        <div class="seat" data-price="190">G12</div>
                        <div class="seat" data-price="190">G13</div>
                        <div class="seat" data-price="190">G14</div>
                        <div class="seat booked" data-price="190">G15</div>
                        <div class="seat" data-price="190">G16</div>
                        <div class="seat" data-price="190">G17</div>
                        <div class="seat" data-price="190">G18</div>
                        <div class="seat" data-price="190">G19</div>
                        <div class="seat" data-price="190">G20</div>
                    </div>
                </div>

                <div class="row">
                    <div class="seat-group">
                        <div class="seat" data-price="190">H1</div>
                        <div class="seat" data-price="190">H2</div>
                        <div class="seat" data-price="190">H3</div>
                        <div class="seat" data-price="190">H4</div>
                        <div class="seat booked" data-price="190">H5</div>
                        <div class="seat" data-price="190">H6</div>
                        <div class="seat" data-price="190">H7</div>
                        <div class="seat" data-price="190">H8</div>
                        <div class="seat" data-price="190">H9</div>
                        <div class="seat" data-price="190">H10</div>
                    </div>
                    <div class="partition"></div>
                    <div class="seat-group">
                        <div class="seat" data-price="190">H11</div>
                        <div class="seat" data-price="190">H12</div>
                        <div class="seat" data-price="190">H13</div>
                        <div class="seat" data-price="190">H14</div>
                        <div class="seat" data-price="190">H15</div>
                        <div class="seat" data-price="190">H16</div>
                        <div class="seat" data-price="190">H17</div>
                        <div class="seat" data-price="190">H18</div>
                        <div class="seat booked" data-price="190">H19</div>
                        <div class="seat" data-price="190">H20</div>
                    </div>
                </div>
            </div>

            <div class="seats-section prime">
                <h4 class="section-title">Prime (₹240)</h4>
                
                <div class="row">
                    <div class="seat-group">
                        <div class="seat" data-price="240">C1</div>
                        <div class="seat" data-price="240">C2</div>
                        <div class="seat" data-price="240">C3</div>
                        <div class="seat" data-price="240">C4</div>
                        <div class="seat" data-price="240">C5</div>
                        <div class="seat" data-price="240">C6</div>
                        <div class="seat" data-price="240">C7</div>
                        <div class="seat" data-price="240">C8</div>
                        <div class="seat" data-price="240">C9</div>
                        <div class="seat" data-price="240">C10</div>
                        <div class="seat" data-price="240">C11</div>
                        <div class="seat" data-price="240">C12</div>
                        <div class="seat" data-price="240">C13</div>
                        <div class="seat" data-price="240">C14</div>
                        <div class="seat booked" data-price="240">C15</div>
                    </div>
                    <div class="partition"></div>
                    <div class="seat-group">
                        <div class="seat" data-price="240">C16</div>
                        <div class="seat" data-price="240">C17</div>
                        <div class="seat" data-price="240">C18</div>
                        <div class="seat" data-price="240">C19</div>
                        <div class="seat" data-price="240">C20</div>
                        <div class="seat" data-price="240">C21</div>
                        <div class="seat" data-price="240">C22</div>
                        <div class="seat" data-price="240">C23</div>
                        <div class="seat" data-price="240">C24</div>
                        <div class="seat" data-price="240">C25</div>
                        <div class="seat" data-price="240">C26</div>
                        <div class="seat" data-price="240">C27</div>
                        <div class="seat" data-price="240">C28</div>
                        <div class="seat" data-price="240">C29</div>
                        <div class="seat booked" data-price="240">C30</div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="seat-group">
                        <div class="seat" data-price="240">D1</div>
                        <div class="seat" data-price="240">D2</div>
                        <div class="seat" data-price="240">D3</div>
                        <div class="seat" data-price="240">D4</div>
                        <div class="seat" data-price="240">D5</div>
                        <div class="seat" data-price="240">D6</div>
                        <div class="seat" data-price="240">D7</div>
                        <div class="seat" data-price="240">D8</div>
                        <div class="seat" data-price="240">D9</div>
                        <div class="seat" data-price="240">D10</div>
                        <div class="seat" data-price="240">D11</div>
                        <div class="seat" data-price="240">D12</div>
                        <div class="seat booked" data-price="240">D13</div>
                        <div class="seat" data-price="240">D14</div>
                        <div class="seat" data-price="240">D15</div>
                    </div>
                    <div class="partition"></div>
                    <div class="seat-group">
                        <div class="seat" data-price="240">D16</div>
                        <div class="seat" data-price="240">D17</div>
                        <div class="seat" data-price="240">D18</div>
                        <div class="seat" data-price="240">D19</div>
                        <div class="seat" data-price="240">D20</div>
                        <div class="seat" data-price="240">D21</div>
                        <div class="seat" data-price="240">D22</div>
                        <div class="seat" data-price="240">D23</div>
                        <div class="seat" data-price="240">D24</div>
                        <div class="seat" data-price="240">D25</div>
                        <div class="seat booked" data-price="240">D26</div>
                        <div class="seat" data-price="240">D27</div>
                        <div class="seat" data-price="240">D28</div>
                        <div class="seat" data-price="240">D29</div>
                        <div class="seat" data-price="240">D30</div>
                    </div>
                </div>
            </div>
            
            <div class="seats-section recliner">
                <h4 class="section-title">Recliner (₹450)</h4>
                
                <div class="row">
                    <div class="seat-group">
                        <div class="seat" data-price="450">A1</div>
                        <div class="seat" data-price="450">A2</div>
                        <div class="seat booked" data-price="450">A3</div>
                        <div class="seat" data-price="450">A4</div>
                        <div class="seat" data-price="450">A5</div>
                        <div class="seat" data-price="450">A6</div>
                        <div class="seat" data-price="450">A7</div>
                        <div class="seat booked" data-price="450">A8</div>
                        <div class="seat" data-price="450">A9</div>
                        <div class="seat" data-price="450">A10</div>
                    </div>
                    <div class="partition"></div>
                    <div class="seat-group">
                        <div class="seat" data-price="450">A11</div>
                        <div class="seat" data-price="450">A12</div>
                        <div class="seat" data-price="450">A13</div>
                        <div class="seat" data-price="450">A14</div>
                        <div class="seat" data-price="450">A15</div>
                        <div class="seat" data-price="450">A16</div>
                        <div class="seat" data-price="450">A17</div>
                        <div class="seat booked" data-price="450">A18</div>
                        <div class="seat" data-price="450">A19</div>
                        <div class="seat" data-price="450">A20</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="booking-summary">
            <h3>Booking Summary</h3>
            <div class="summary-details">
                <p>Seats Selected: <strong id="selected-seats-display">0</strong></p>
                <p>Seat Numbers: <strong id="seat-numbers-display">None</strong></p>
                <p>Total Price: <strong>₹<span id="total-price">0</span></strong></p>
            </div>
            <button class="proceed-btn" id="proceed-btn" disabled>Proceed to Pay</button>
        </div>
    </div>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-col">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="./showing.html">Now Showing</a></li>
                    <li><a href="./offers.html">Exclusive Offers</a></li>
                    <li><a href="./tickets.html">Tickets</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>About Showly</h4>
                <ul>
                    <li><a href="./about.html">About Us</a></li>
                    <li><a href="./offers.html">Offers</a></li>
                    <li><a href="./contact.html">Contact Us</a></li>
                    <li><a href="./terms.html">Terms & Conditions</a></li>
                    <li><a href="./privacy.html">Privacy Policy</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Contact Us</h4>
                <p>Email: support@showly.com</p>
                <p>Phone: +91 9999999999</p>
                <address>Chitkara University, Punjab</address>
            </div>
            <div class="footer-col">
                <h4>Follow Us</h4>
                <div class="footer-social-links">
                    <a href="#">Facebook</a>
                    <a href="#">Twitter</a>
                    <a href="#">Instagram</a>
                    <a href="#">LinkedIn</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Showly. All rights reserved.</p>
        </div>
    </footer>

    <script>
        const seats = document.querySelectorAll('.seat:not(.booked)');
        const selectedSeatsDisplay = document.getElementById('selected-seats-display');
        const seatNumbersDisplay = document.getElementById('seat-numbers-display');
        const totalPriceDisplay = document.getElementById('total-price');
        const proceedBtn = document.getElementById('proceed-btn');
        const seatingLayout = document.querySelector('.seating-layout');
        const timingButtons = document.querySelectorAll('.timing-btn');
        
        // 1. DEFINE MOVIE/CINEMA INFO (Since this is a mockup)
        const movieTitle = 'Son of Sardaar 2';
        const cinemaDetails = 'Elante Chandigarh, Screen 4 - Thu, 24 Oct 2025';
        let selectedTime = null; // Will store the selected time

        let selectedSeats = [];

        function getSelectedTime() {
            const selectedButton = document.querySelector('.timing-btn.selected');
            return selectedButton ? selectedButton.dataset.time : null;
        }

        function updateSummary() {
            selectedSeats = Array.from(seats).filter(seat => seat.classList.contains('selected'));
            const seatNumbers = selectedSeats.map(seat => seat.textContent);
            const totalPrice = selectedSeats.reduce((sum, seat) => sum + parseInt(seat.dataset.price), 0);
            
            selectedSeatsDisplay.textContent = selectedSeats.length;
            seatNumbersDisplay.textContent = seatNumbers.length > 0 ? seatNumbers.join(', ') : 'None';
            totalPriceDisplay.textContent = totalPrice;

            // Check if both seats and time are selected to enable the button
            if (selectedSeats.length > 0 && getSelectedTime()) {
                proceedBtn.disabled = false;
            } else {
                proceedBtn.disabled = true;
            }
        }

        function clearSelectedSeats() {
            seats.forEach(seat => seat.classList.remove('selected'));
            updateSummary();
        }

        seats.forEach(seat => {
            seat.addEventListener('click', () => {
                // Prevent seat selection if no time is chosen
                if (!seat.classList.contains('booked') && getSelectedTime()) {
                    seat.classList.toggle('selected');
                    updateSummary();
                } else if (!getSelectedTime()) {
                     alert("Please select a show timing first!");
                }
            });
        });

        timingButtons.forEach(button => {
            button.addEventListener('click', () => {
                timingButtons.forEach(btn => btn.classList.remove('selected'));
                button.classList.add('selected');
                
                // Set the selected time variable
                selectedTime = button.dataset.time; 

                // Enable the seating layout and check summary
                seatingLayout.classList.remove('seating-disabled');
                clearSelectedSeats();
                updateSummary();
            });
        });

        // 2. PROCEED BUTTON LOGIC (To save data)
        proceedBtn.addEventListener('click', () => {
            const time = getSelectedTime();
            if (selectedSeats.length > 0 && time) {
                
                // Collect and structure all data for payment page
                const seatNumbers = selectedSeats.map(seat => seat.textContent);
                const totalPrice = parseInt(totalPriceDisplay.textContent);
                
                const bookingData = {
                    movieTitle: movieTitle,
                    cinemaDetails: cinemaDetails, // Contains Cinema, Date, Screen
                    showTime: time,
                    seats: seatNumbers,
                    ticketPrice: totalPrice // Base price of tickets
                };
                
                // Save the data to localStorage as a JSON string
                localStorage.setItem('showlyBookingData', JSON.stringify(bookingData));
                
                // Redirect to the payment page
                window.location.href = './payment.html';

            } else {
                alert("Please select a show time and at least one seat.");
            }
        });
        
        // Initial summary update
        updateSummary();
    </script>
</body>
</html>